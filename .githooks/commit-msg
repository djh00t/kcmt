#!/usr/bin/env bash
set -euo pipefail

# Skip hook for merge commits to avoid false positives when messages are generated by Git.
if git rev-parse -q --verify MERGE_HEAD >/dev/null 2>&1; then
  exit 0
fi

if ! command -v cz >/dev/null 2>&1; then
  echo "commitizen (cz) not found; skipping conventional commit check." >&2
  exit 0
fi

cz check --commit-msg-file "$1"
